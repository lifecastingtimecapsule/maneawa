# Maneawa 28h チェッカー 仕様書

## 実行環境
- Electron
- TypeScript
- SQLite（1ファイルで完結）
- UI：シンプルな HTML/JS または React
- 完全ローカル：サーバ不要

## 1. 基本コンセプト
- 完全オフライン動作（インストールした PC 内で完結）
- 外国人労働者など「週28時間ルール」系の“直近7日間の時間超過チェック専用ツール”
- 買い切り販売前提：サーバ認証や複雑ライセンス管理なし
- 責任を軽くするため、アプリ内に「自己責任利用」の明示機能あり

## 2. 従業員管理機能
- 従業員一覧表示
  - ID
  - 氏名
  - 備考（在留資格、部署などメモ）
- 従業員登録
  - 氏名必須
  - 備考は任意
  - 重複登録防止（同名警告など簡易で OK）
- 従業員情報編集
  - 氏名・備考の編集
- 従業員削除
  - 「削除するとシフトも消えるよ」警告表示
- ※ログインや権限管理は必須要件にしない（サポート負荷を増やさないため）

## 3. シフト登録・管理機能
- シフト入力
  - 従業員選択
  - 日付
  - 開始時刻
  - 終了時刻
  - 入力と同時に勤務時間を自動計算
- シフト一覧表示
  - 日付順 / 従業員別に表示切替
  - 1画面で当月一覧を見られる程度で OK
- 入力チェック
  - 開始＞終了ならエラー
  - 数値異常（例：24時間超えなど）に警告
- 編集・削除
  - 誤入力修正
  - 削除時に確認ダイアログ
- ※夜勤など「日跨ぎ」対応をするかは仕様で決める（必要なら「終了が開始より前なら翌日扱い」とする）

## 4. 直近7日間・時間超過チェック機能（コア）
- 基準日設定
  - 日付入力（初期値は「今日」）
- 自動集計
  - 従業員ごとに「基準日を含む直近7日間」の合計勤務時間を算出
- ステータス判定
  - デフォルトルール（固定で OK）
    - 28時間以上：NG
    - 25時間以上〜28時間未満：注意
    - 25時間未満：OK
- 一覧画面で
  - NG：赤
  - 注意：黄
  - OK：通常 を視覚表示
- 一覧画面
  - 項目：従業員名 / 直近7日間合計時間 / 判定
  - 「NGのみ表示」「注意以上のみ表示」のフィルタ
- 個別詳細表示
  - 選択した従業員の直近7日間の各日の勤務時間
  - 合計時間と判定
  - 違反しそうな箇所を視覚的に確認可能

## 5. レポート・出力機能（最低限）
- CSV エクスポート
  - 全シフトデータを CSV 出力
  - 期間指定（例：年月単位）
  - Excel で編集できる形式
- 7日間集計結果の出力（任意）
  - 「基準日時点の従業員別ステータス一覧」を CSV で出力
  - 監査・報告用
- ※PDF 出力や凝った帳票は必須にしない（開発＆サポート負荷を抑える）

## 6. バックアップ関連（シンプルで OK）
- データ保存先はローカル 1 ファイル
- ユーザーに「このファイルをコピーすればバックアップです」と案内できる形
- バックアップボタン（任意）
  - 「今のデータを指定フォルダにコピー」の簡易バックアップ機能があれば親切
- ※自動クラウドバックアップなどはやらない（責任増えるので除外）

## 7. 設定・その他（買い切り＆自己防衛用）
- 設定画面（最低限）
  - 表示言語（必要なら日本語のみで OK）
  - 時間判定ルール（将来拡張用だが、v1 では固定でもよい）
- 利用規約表示機能
  - 初回起動時に「自己責任利用・損害不担保」を表示
  - OK 押下で利用開始
  - メニューからいつでも確認可能
- バージョン情報表示
  - 「アプリ名 / バージョン / 開発者名 or 屋号」
  - 問い合わせ先（メール1個）※返信義務を負わない文言も記載可
- ライセンス運用
  - オフライン前提のためライセンス認証機能は設けない
  - 配布ファイルそのものを「購入者限定」として管理する運用前提

## 8. 非機能（最低限、機能要件に直結するやつだけ）
- オフライン完結：インターネット接続なしで全機能が動作すること
- Windows 対応（最低：Windows10/11）
- インストール後、一般ユーザー権限で動作（管理者権限を要求しない）
- データはローカル PC 内に保存し、外部送信しない
